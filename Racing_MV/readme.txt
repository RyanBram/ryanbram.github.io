
はじめにお読みください。


====================================================================================================
■プラグインの組み込み方法
====================================================================================================

①「レースゲームプラグインデモ」プロジェクト内の下記のファイルを、制作中のプロジェクトフォルダ以内の同じディレクトリにコピーしてください。
　SEなど、既存のものは上書きコピーしてください。

　　/js/plugins/
　　　・RaceBattle.js

　　/img/
　　　・racebattleフォルダ

　　/audio/se/
　　　・horse_run.ogg(m4a)
　　　・Applause1.ogg(m4a)
　　　・Applause2.ogg(m4a)
　　　・Blow1.ogg(m4a)
　　　・Blow2.ogg(m4a)
　　　・Dive.ogg(m4a)
　　　・Horse.ogg(m4a)
　　　・Jump1.ogg(m4a)
　　　・Liquid.ogg(m4a)
　　　・Wind1.ogg(m4a)

  ※レースプラグインはプロジェクトの新規作成をした直後のアニメーションデータベース番号、
  　0002:打撃/エフェクトと、0005:打撃/雷を使用しています。
  　アニメーションデータベース番号0002と0005はデータベースに残しておいて下さい。
  　0002と0005で使用している画像ファイルとSEファイルも、
  　制作中のプロジェクトフォルダの/img/animations/と、/audio/se/内に残しておいて下さい。

②メニュー > ツール > プラグイン管理 と選択し、プラグイン管理ダイアログを開きます。

③空いている行をダブルクリックします。

④名前のコンボボックスを開くと、RaceBattleがあるので、それを選び、OKを選択します。

⑤さらにOKを選んで、プラグイン管理ダイアログを閉じます。

⑥適宜イベントを作成して、下記の「■プラグインコマンドについて」の呼び出し例にそって、設定をしてください。

⑦最後に「戦闘の処理」コマンドを実行して、レースを呼び出してください。

以上です。


====================================================================================================
■プラグインコマンドについて
====================================================================================================

レースバトルプラグインのプラグインコマンドについて説明します。
プラグインコマンドはRPGツクールMVエディターから以下の手順でも確認できます。

①メニュー > ツール > プラグイン管理 と選択し、プラグイン管理ダイアログを開きます。

②RaceBattleがあればダブルクリックをし、なければ、空いている行をダブルクリックし、名前のコンボボックスからRaceBattleを選択してください。

③RaceBattleプラグインの基本設定内のヘルプボタンを選択すると、プラグインコマンド一覧が表示されます。

以上です。


------------------------------
★プラグインコマンド一覧
------------------------------

RaceBattle switch <切り替え指定>
	# バトルをレースバトルにするかを切り替えます。 <切り替え指定>: 1=レースバトルにする, 0=通常バトルにする

	例：
	RaceBattle switch 1
		※以降のバトルがレースバトルになるようにします。
	RaceBattle switch 0
		※以降のバトルがレースバトルにならないようにします。


RaceBattle bgm <メイン曲名> <volume> <pitch> <ラストスパート曲名> <volume> <pitch>
	# ＢＧＭを指定します。

	例：
	RaceBattle bgm Battle1 90 100 Theme6 90 100
		※ラストスパートフェイズのBGMをTheme6に設定し、それ以外のフェイズのBGMをBattle1に設定します。


RaceBattle enemies <敵の数>
	# 敵の数を指定します。

	例：
	RaceBattle enemies 7
		※相手馬を7頭にします。


RaceBattle ground <地面の種類>
	# 地面の種類を指定します。 0: 芝, 1: ダート

	例：
	RaceBattle ground 1
		※地面をダートにします。


RaceBattle fence <埒の種類>
	# 埒の種類を指定します。 0: 通常, 1: IP01, 2: IP02, 3: IP03, 4: イベントキャラクター

	例：
	RaceBattle fence 3
		※埒をIP03にします。


RaceBattle raceTitle <レースタイトル名>
	# レースタイトル名を指定します。

	例：
	RaceBattle raceTitle GⅡレース
		※レースタイトルをGⅡレースにします。


RaceBattle obstacle <難易度> <出現確率> <減速率>
	# 障害物の<難易度>の<出現確率><減速率>を設定します。 <難易度>: easy/normal/hard <出現確率>=0の場合はその難易度の障害物は出現しません。<減速率>:0～100で指定(50で半分、100で減衰無し)

	例：
	RaceBattle obstacle easy 0 100
		※難易度easyの障害物が0%の確率で出現します。障害物に当たった場合、速度が元の速度の100%になります(減速なし)。
	RaceBattle obstacle normal 50 80
		※難易度normalの障害物が50%の確率で出現します。障害物に当たった場合、速度が元の速度の80%になります(20%減速)。
	RaceBattle obstacle hard 50 50
		※難易度hardの障害物が50%の確率で出現します。障害物に当たった場合、速度が元の速度の50%になります(50%減速)。


RaceBattle cheer <IP1回数> <IP2回数> <IP3回数>
	# IPキャラの応援回数を指定します。 <IP1回数>:パックマン、<IP2回数>:もじくん、<IP3回数>:ワルキューレ

	例：
	RaceBattle cheer 1 0 3
		※IP01の応援を１回、IP02の応援を0回、IP03の応援を3回まで行わせるようにします。


RaceBattle equip <IP装備1> [<IP装備2> <IP装備3>]
	# 装備するIP装備品を指定する。最大３個。 <IP装備n>:IP装備番号。1:パックマン,2:もじくん,3:ワルキューレ

	例：
	RaceBattle equip 2 3
		※IP02とIP03の馬具を装着します。


RaceBattle param <キャラ番号> <スタミナ> <はやさ> <こんじょう> <かしこさ>
	# キャラのパラメータを設定します。 <キャラ番号>=0が自キャラです。

	例：
	RaceBattle param 0 1000 60 50 50
		※自馬のスタミナを1000、はやさを60、こんじょうを50、かしこさを50に設定します。
	RaceBattle param 2 500 10 10 10
		※相手馬2のスタミナを500、はやさを10、こんじょうを10、かしこさを10に設定します。


RaceBattle charaName <番号> <馬名> [<色>]
	# 馬名と色を指定します。 <番号>=0は自馬の名前の指定となります。<色>=1:赤帽,茶馬、2:青帽,赤馬、3:黄帽,白馬、4:緑帽,紫馬、5:橙帽,橙馬、6:紫帽,桃馬、7:黒帽,黄馬、8:水帽,黒馬

	例：
	RaceBattle charaName 0 馬太郎 1
		※自馬の馬名を馬太郎、色を赤帽/茶馬に設定します。
	RaceBattle charaName 2 馬次郎 3
		※相手馬2の馬名を馬次郎、色を黄帽/白馬に設定します。


RaceBattle arrival <馬1の着順格納変数番号> <馬2の着順格納変数番号> ... <馬(enemies + 1>の着順格納変数番号>
	# 着順を格納する変数番号を指定します。

	例：
	RaceBattle arrival 21 22 23 24 25 26 27 28
		※レース結果の着順を格納する変数番号を指定します。

	※「文章の表示」コマンドで次の文章を指定すると、着順が分かります。
	馬1:\V[21]着, 馬2:\V[22]着, 馬3:\V[23]着, 馬4:\V[24]着
	馬5:\V[25]着, 馬6:\V[26]着, 馬7:\V[27]着, 馬8:\V[28]着


RaceBattle rankingName <1位の馬名格納変数番号> <2位の馬名格納変数番号> ... <(enemies + 1>位の馬名格納変数番号>
	# １位から順に馬名を格納する変数番号を指定します。

	例：
	RaceBattle rankingName 31 32 33 34 35 36 37 38
		※着順の馬の名前を格納する変数番号を指定します。

	※「文章の表示」コマンドで次の文章を指定すると、着順の馬の名前が分かります。
	1着:\V[31], 2着:\V[32],
	3着:\V[33], 4着:\V[34],
	5着:\V[35], 6着:\V[36],
	7着:\V[37], 8着:\V[38]


RaceBattle help <ヘルプを表示させるか>
	# <ヘルプを表示させるか>: 1: ヘルプを表示させる

	例：
	RaceBattle help 1
		※ヘルプを表示させます。


RaceBattle helpText <ヘルプ種別> <ヘルプテキスト> <文字色> <文字縁色>
	# ヘルプテキストを設定する。 <ヘルプ種別>: training(訓練), compete(競り合いフェイズ), move(移動指示フェイズ), racing(走行フェイズ), last_spurt(ラストスパートフェイズ), <ヘルプテキスト>: 行単位のみ文字色指定が可能（行の先頭に「#rrggbb」を付ける）#pで改ページ, 文字色以降は省略可能

	例：
	RaceBattle helpText racing プラグインコマンドで指定した\nレースのヘルプです。\nしっかりと表示されましたか？ #20A0D6 rgba(255,0,0,0)
		※走行フェイズのヘルプ文書と文字色を設定します。


RaceBattle skill <スキル番号>
	# <スキル番号>のスキルを追加する。 <スキル番号>: 1～10
	【スキル一覧】:
		1: 火事場のウマ力		…競り合いフェイズで与えるダメージが上昇する。
		2: 馬耳東風			…競り合いフェイズで受けるダメージが減少する。
		3: ダークホース			…競り合いフェイズで攻撃をしない代わりに標的にされない。
		4: 塞翁が馬			…残スタミナ量が使用競り合いフェイズ内で一番低い場合、競り合いフェイズで与えるダメージが上昇する。

		5: 強い扶助(前進)		…移動指示フェイズで前進が必ず成功する。
		6: 強い扶助(インコース)		…移動指示フェイズでインコースへの移動が必ず成功する。

		7: 100馬力ブースト		…走行フェイズで走る速さが上昇する。
		8: 馬草の友			…障害物「生垣」を必ず避けることができる。
		9: 天馬のはばたき		…障害物「水濠」を必ず避けることができる。
		10:馬竹の勢い			…障害物「竹柵」を必ず避けることができる。

	例：
	RaceBattle skill 3
		※自馬にダークホースのスキルを追加します。
	RaceBattle skill 7
		※自馬に100馬力ブーストのスキルを追加します。


RaceBattle course <distance1> <angle1> [<distance1b> compete] <disntace2> <angle2> [<distance2b> compete] ... <distanceN> front>
	# コースを指定します。ゴール地点を0mとして、どの距離にどのアングルがあるか、また、フェイズ(compete,competeX,move)の距離位置を指定します。フェイズの距離位置指定は省略可能です。（単に走行フェーズが続くようになります。） 最後にfront(=最後の直線)を指定しますが、これがラストスパートフェイズとなります。
	【アングル】:
		front		…コース手前の直線(最後のfrontがラストスパートフェイズになります。)
		overthere	…コース奥の直線
		upCorner	…画面下から上へ移動するコーナー
		downCorner	…画面上から下へ移動するコーナー
	【フェイズ】:
		compete		…競り合いフェイズ(競り合い後に移動指示フェイズがあります。)
		competeX	…競り合いフェイズ(競り合い後に移動指示フェイズはありません。)
		move		…移動指示フェイズ

	例：
	RaceBattle course 2400 front 2200 compete 1800 upCorner 1650 compete 1500 overthere 1200 compete 900 downCorner 750 compete 600 front
		※全長2400m。2400mから画面手前直線→2200mで競り合いフェイズ→1800mからアップコーナー→1650mで競り合いフェイズ→1500mから画面奥直線→
		　→1200mで競り合いフェイズ→900mからダウンコーナー→750mで競り合いフェイズ→600mからラストスパートフェイズのコースを指定します。
